var dtbox=function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";const n=r(1),s=r(2),u=r(3),o=r(7),c=["std","standard","tuple","tuples","breadcrumb","breadcrumbs","file","files","midFlat","shortFlat"],l={dependencies:()=>({simpleDT:function(){const e=Object.create(i);return e.value=e.empty(),e.structure=[],e._select={structure:[],value:[]},e._error=[],e},empty:Object.create(i).empty,convert:u,help:s}),init(e,t){let r=l.dependencies(),s=r.simpleDT(),o=r.help,{format:a,mod:i}={format:"std",mod:!1,...t};if(c.includes(a)){if(null!=e){const[t,n]="shortFlat"==a?e:u.from(a).toFlat(r,e);s.structure=o.copyStructure(t),s.value=n}if(i){let[t,u]=n.transform({...r,mod:i},[s.structure,s.value]);return u.hasOwnProperty()||s._error.push(`Modifier "${i}" is not a valid modifier and was ignored. Data: ${JSON.stringify(e)}`),s.structure=t,s.value=u,s}return s}this._error.push(`Can't understand your data-type: ${a}. Please, find what is possible on http://todo.add.documentation.link.here`)},load:e=>e._select?n.loadLong(l.dependencies(),e):n.loadShort(l.dependencies(),e),preprocess(e,t,r){let{format:s="std"}={format:"std",mod:!1,...r},o=t(u.from(s).toFlat(l.dependencies(),e));return o?n.loadShort(l.dependencies(),o):(this._error.push('Method "preprocess" should always return a shortFlat format: [structure, value]'),l.init())},modify:e=>function(t,r){const s=l.init(t,r);return n.modify({...l.dependencies(),action:e},this,s)},errorLog(e){return e(this._error),this},select(){return this._select={structure:[],value:[]},this},folder(e="root",t){const r={...l.dependencies(),folder:e,deep:t};return n.folder(r,this)},parent(e,t){const r={...l.dependencies(),prop:e,where:t};return n.parent(r,this)},space(e="root",t){const r={...l.dependencies(),prop:e,where:t};return n.space(r,this)},limit(e){return this._select.value=this._select.value.slice(0,e),this},keep(e){const t=this;return void 0===e||(t._select.value=t._select.value.reduce((r,n)=>(e(t.value[n],n)&&r.push(n),r),[])),t},remove(e){const t=this;return void 0===e||(t._select.value=t._select.value.reduce((r,n)=>(e(t.value[n],n)||r.push(n),r),[])),t},deep(e,t="less"){let r={...l.dependencies(),num:e,direction:t};return n.deep(r,this)},block:e=>function(){const t={...l.dependencies(),type:e};return n.block(t,this)},invert(){const e=this._select.value,t=Object.keys(this.value);return this._select.value=t.reduce((t,r)=>(e.includes(r)||t.push(r),t),[]),this},compare:e=>function(t,r){if(!t.hasOwnProperty("value")||!t.hasOwnProperty("structure")){return r(null),this}let n=u.to("breadcrumb",l.dependencies(),[this.structure,this.value]),s=u.to("breadcrumb",l.dependencies(),[t.structure,t.value]),c=o[e](n,s),[a,i]=u.from("breadcrumb").toFlat(l.dependencies(),c),p=l.dependencies().simpleDT();return p.structure=a,p.value=i,r(p),this},spread(e,t){const r=this,n=r._select.value,{empty:s,help:o}=l.dependencies();let c;switch(e){case"value":case"values":c=n.reduce((e,t,n)=>(e["root/"+n]=r.value[t],e),s());break;case"key":case"keys":c=n.reduce((e,t,r)=>(e["root/"+r]=t,e),s());break;case"standard":case"std":{let e=n.reduce((e,t)=>(e[t]=r.value[t],e),s());c=u.to("std",l.dependencies(),[r._select.structure,e])}break;case"asJSON":{let e=n.reduce((e,t)=>(e[t]=r.value[t],e),{});c=JSON.stringify(e)}break;case"toJSON":{let e=n.reduce((e,t)=>(e[t]=r.value[t],e),s());c=JSON.stringify(e.build())}break;case"flat":default:{let e=n.reduce((e,t)=>(e[t]=r.value[t],e),s());c=[o.copyStructure(r._select.structure),e]}}return t(c),r}},a={hi:()=>"hi"},i={init:l.init,load:l.load,loadFast:l.load,preprocess:l.preprocess,add:l.modify("add"),update:l.modify("update"),overwrite:l.modify("overwrite"),insert:l.modify("insert"),spread:l.spread,log:l.errorLog,empty:()=>Object.create(a),identical:l.compare("identical"),change:l.compare("change"),same:l.compare("same"),different:l.compare("different"),missing:l.compare("missing"),select:l.select,parent:l.parent,folder:l.folder,all:l.folder,space:l.space,deepObject:l.block("object"),deepArray:l.block("array"),invert:l.invert,limit:l.limit,keep:l.keep,remove:l.remove,deep:l.deep};e.exports=i},function(e,t,r){"use strict";const n={loadLong(e,t){let{structure:r,value:s}=t;return n._loadData(e,r,s)},loadShort(e,t){let[r,s]=t;return n._loadData(e,r,s)},_loadData(e,t,r){const{help:n,simpleDT:s}=e;let u=s();u.structure=n.copyStructure(t);for(const e in r)u.value[e]=r[e];return u},modify(e,t,r){const{action:n,convert:u,help:o}=e,c=u.to("midFlat",e,[t.structure,t.value]),l=u.to("midFlat",e,[r.structure,r.value]);let a;t._error=t._error.concat(r._error),a=s[n](c,l);let[i,p]=u.from("midFlat").toFlat(e,a);return t.structure=o.copyStructure(i),t.value=p,t},folder(e,t){let r,n=Object.keys(t.value),{help:s,deep:u,folder:o}=e,c=s.toBreadcrumbKeys(n,t.structure);o=o||"root",u=null==u?9999:u,u+=1,r=o.split("/").length+u;let l=c.filter(e=>e.match(o)).reduce((e,t)=>{let s=c.indexOf(t);return t.split("/").length<=r&&e.push(n[s]),e},[]);return t._select.value=s.updateSelection(t._select.value,l),t._select.structure=s.copyStructure(t.structure),t},parent(e,t){const{help:r,prop:n,where:s}=e;let u,o=[],c=[];for(let e in t.value){let t=e.split("/");t[2]==n&&o.push(t[1])}return t.structure.forEach(e=>{e.forEach((e,r)=>{if(r>1&&e[1]==n){let r=e[0];"array"==t.structure[r][0]&&o.push(r)}})}),c=o.reduce((e,r)=>{for(let n in t.value){n.split("/")[1]==r&&e.push(n)}return e},[]),u=s?o.reduce((e,n)=>{let[u,o]=r.filterObject(n,c,t.value);return s(u)&&e.push(...o),e},[]):c,t._select.value=r.updateSelection(t._select.value,u),t._select.structure=r.copyStructure(t.structure),t},space(e,t){const{help:r,prop:n,where:s}=e;let u=[],o=[],c=[];return"root"==n&&u.push(0),t.structure.forEach(e=>{e.forEach((e,t)=>{if(t>1){let[t,r]=e;r==n&&u.push(t)}})}),o=u.reduce((e,r)=>{for(let n in t.value){n.split("/")[1]==r&&e.push(n)}return e},[]),c=s?u.reduce((e,n)=>{let[u,c]=r.filterObject(n,o,t.value);return s(u)&&e.push(...c),e},[]):o,t._select.value=r.updateSelection(t._select.value,c),t._select.structure=r.copyStructure(t.structure),t},deep(e,t){const{help:r,num:n,direction:s}=e;let u=[],o=[...t._select.value];return r.objectsByLevel(t.structure).forEach((e,t)=>{("more"==s?t>=n:t<=n)&&(u=u.concat(e))}),t._select.value=o.filter(e=>{let t=parseInt(e.split("/")[1]);return u.includes(t)}),t},block(e,t){const{type:r}=e,n=Object.keys(t.value);let s=t.structure.reduce((e,t)=>(t[0]!=r||2==t.length&&e.push(t[1]),e),[]);return t._select.value=n.filter(e=>{let t=parseInt(e.split("/")[1]);return s.includes(t)}),t._select.structure=[["array",0]],s.forEach((e,r)=>{let n=t.structure[e][0];t._select.structure[0].push([e,r]),t._select.structure.push([n,e])}),t},transform(e,[t,r]){let n,{mod:s,empty:u}=e,o=Object.keys(r);switch(s){case"reverse":n=o.reduce((e,t)=>{let n=t.split("/"),s=n[2].match(/^[0-9]+$/)?parseInt(n[2]):n[2],u=r[t];return e[`root/${n[1]}/${u}`]=s,e},u());break;case"key":case"keys":n=o.reduce((e,t)=>{let r=t.split("/"),n=r[2].match(/^[0-9]+$/)?parseInt(r[2]):r[2];return e[t]=n,e},u());break;case"value":case"values":n=u();let e=0;for(const t of o){let s=t.split("/"),u=r[t];s[2]=e++,n[s.join("/")]=u}t=t.map(t=>{let[r,n,...s]=t;return s.length>0&&(e=0,s=s.map(e=>{let[t,r]=e;return[t,t]})),["array",n,...s]});break;default:n=u()}return[t,n]}},s={add(e,t){for(const r in t){if(e[r])for(let n in t[r])e[r][n]||(e[r][n]=t[r][n]);else e[r]={...t[r]}}return e},update(e,t){for(const r in t)if(e[r])for(let n in t[r])e[r][n]&&(e[r][n]=t[r][n]);return e},overwrite(e,t){for(const r in t){if(e[r])for(let n in t[r])e[r][n]=t[r][n];else e[r]={...t[r]}}return e},insert(e,t){for(const r in t){let n=Object.values(e[r]),s=Object.values(t[r]),u=n.concat(s);e[r]=u.reduce((e,t,r)=>(e[r]=t,e),{})}return e}};e.exports=n},function(e,t,r){"use strict";e.exports={findType:e=>e instanceof Array?"array":"object",hasNumbers:function(e){return!e.every(e=>{const t=Number(e);return 0!==t&&!t})},isItPrimitive:function(e){return"function"==typeof e||"object"!=typeof e},generateObject:function*(e){let t={},r=new Set;for(let n of e){let e=n.pop(),s=n.join("/");r.has(s)||(r.add(s),t[s]=[]),t[s].push(e)}yield t},generateList:function*(e,t){for(let r in t)yield[e,r,t[r]]},sanitizeFlatKeys:function(e){let t=e.map(e=>{let t=e.split("/");return"root"!=t[0]?["root",...t].join("/"):t.join("/")}),r=[],n=new Set;t.forEach(e=>{r.includes(e)?n.add(e):r.push(e)});for(const e of n){let r=0;t=t.map(t=>t==e?`${t}/${r++}`:t)}return t},copyStructure:function(e){let t=[];return e.forEach((e,r)=>{t.push([]),e.forEach(e=>t[r].push(e))}),t},objectsByLevel:function(e){return e.reduce((e,t)=>{let r=[];return t.forEach((e,t)=>{t>1&&r.push(e[0])}),r.length>0&&e.push(r),e},[[0]])},filterObject:function(e,t,r={}){let n={},s=[];return t.forEach(t=>{let u=t.split("/"),o=u[1],c=u.pop();o==e&&(n[c]=r[t],s.push(t))}),[n,s]},toBreadcrumbKeys:function(e,t){let r=["root"];return t.forEach(e=>{e.forEach((t,n)=>{let s=e[1],u=r[s];n>1&&r.push(`${u}/${t[1]}`)})}),e.map(e=>{let t=e.split("/"),n=t[1],s=t[2];return`${r[n]}/${s}`})},updateSelection:function([...e],t){return t.forEach(t=>{e.includes(t)||e.push(t)}),e},zipObject:function(e,t){return e.reduce((e,r,n)=>{let s=Number(t[n])?parseInt(t[n]):t[n];return e[r]=s,e},{})}}},function(e,t,r){"use strict";const n=r(4),s=r(5),u=r(6),o=e=>(t,r)=>{let o,c,l,{help:a}=t,i=[];switch(e){case"std":case"standard":return s.toFlat(t,r);case"tuple":case"tuples":break;case"breadcrumb":case"breadcrumbs":return o=Object.keys(r),i=o.map(e=>r[e]),c=a.sanitizeFlatKeys(o),l=a.zipObject(c,i),n.toFlat(t,l);case"file":case"files":return o=r.map(e=>{let t=e.split("/");return i.push(t.pop()),t.join("/")}),c=a.sanitizeFlatKeys(o),l=a.zipObject(c,i),n.toFlat(t,l);case"midFlat":return u.toFlat(t,r)}return[["object",0],{}]};e.exports={from:function(e){return{toFlat:o(e)}},to:function(e,t,r){switch(e){case"std":case"standard":return s.toFormat(t,r);case"midFlat":return u.toFormat(t,r);case"breadcrumb":case"breadcrumbs":return n.toFormat(t,r)}}}},function(e,t,r){"use strict";e.exports={toFlat:function(e,t){if(0===Object.keys(t).length){return[[["object",0]],{}]}let{help:r}=e,n=[],s={},u=Object.keys(t).map(e=>e.split("/")).sort((e,t)=>t.length-e.length),o=[],c=[],l=[];for(let e=u[0].length-1;e>=0;e--){let t=u.filter(t=>t.length==e+1);o.push(r.generateObject(t))}c=o.map(e=>e.next().value).reverse(),l=c.map((e,t)=>r.generateList(t,e));for(let e of l)for(let[u,o,c]of e){let e=o.split("/"),l=e[e.length-1],a=n.length,i=u-a-1,p=i>0,d=r.hasNumbers(c)?"array":"object";if(p){for(let t=0;t<=i;t++)n.push([d,t]),t>0&&n[t-1].push([t,e[t]]);a=n.length}else n.push([d,a]),a=n.length,u>1&&n[u-2].push([a-1,l]);for(let e of c)s[`root/${a-1}/${e}`]=t[`${o}/${e}`]}return[n,s]},toFormat:function(e,[t,r]){let n=Object.keys(r),s={},u={};return t.forEach(([e,r,...n])=>{n.forEach(e=>{let[n,s]=e,o=s,c=r;for(let e=r;e>=0;e--){let[r,n,...s]=t[e];s.forEach(([e,t])=>{e===c&&(o=`${t}/${o}`,c=n)})}u[n]=o})}),n.forEach(e=>{let t=e.split("/"),n=t[1],o=u[n];"0"==n?t=t.filter(e=>0!=e):t[1]=o,s[t.join("/")]=r[e]}),s}}},function(e,t,r){"use strict";e.exports={toFlat:function(e,t){let r=[],n=!1,s=e.empty(),{findType:u,isItPrimitive:o,generateList:c}=e.help,l=[];r.push(c(0,t)),l.push([u(t),0]);for(let e of r)for(let[t,a,i]of e)if(n=o(i),n)s[`root/${t}/${a}`]=i;else{let e=l.length;l[t].push([e,a]),r.push(c(e,i)),l.push([u(i),e])}return[l,s]},toFormat:function(e,[t,r]){let n=Object.keys(r),s=[];return t.forEach(([e,t,...u])=>{let o;o="array"==e?[]:{},n.filter(e=>e.includes("root/"+t)).forEach(e=>{let t=e.split("/"),n=t[t.length-1];o[n]=r[e]}),s.push(o)}),t.forEach(([e,t,...r])=>{r.forEach(([e,r],n)=>{e=Number(e)||e,s[t][r]=s[n+1]})}),s[0]}}},function(e,t,r){"use strict";e.exports={toFlat:function(e,t){let r=Object.keys(t).sort((e,t)=>e.split("/").length-t.split("/").length),n=[],{help:s,empty:u}=e,o=u();return r.forEach((e,r)=>{let u,c=Object.keys(t[e]),l=s.hasNumbers(c),a=e.split("/"),i=a.length;i>1&&(u=a.pop(),n[i-2].push([r,u])),l?n.push(["array",r]):n.push(["object",r]);for(let n in t[e])o[`root/${r}/${n}`]=t[e][n]}),[n,o]},toFormat:function(e,[t,r]){let n,s={},u={};return t.forEach((e,t)=>{let o,c={};n=u[t]?u[t]:"root",e.forEach((e,t)=>{if(t<2)return;let[r,s]=e;u[r]=`${n}/${s}`}),o="root/"+t;for(let e in r)if(e.includes(o)){c[e.split("/").pop()]=r[e]}s[n]=c}),s}}},function(e,t,r){const n=r(8),s=r(9),u=r(10),o=r(11),c=r(12);e.exports={identical:n,change:s,same:u,different:o,missing:c}},function(e,t){e.exports=function(e,t){let r={};return Object.keys(e).forEach(n=>{t.hasOwnProperty(n)&&e[n]===t[n]&&(r[n]=e[n])}),r}},function(e,t){e.exports=function(e,t){let r={};return Object.keys(e).forEach(n=>{t.hasOwnProperty(n)&&e[n]===t[n]||(r[n]=t[n])}),r}},function(e,t){e.exports=function(e,t){let r={};return Object.keys(e).forEach(e=>{t.hasOwnProperty(e)&&(r[e]=t[e])}),r}},function(e,t){e.exports=function(e,t){let r={};return Object.keys(t).forEach(n=>{e.hasOwnProperty(n)||(r[n]=t[n])}),r}},function(e,t){e.exports=function(e,t){let r={};return Object.keys(e).forEach(n=>{t.hasOwnProperty(n)||(r[n]=e[n])}),r}}]);