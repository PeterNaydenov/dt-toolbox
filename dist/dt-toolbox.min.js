var dtbox;(()=>{var e={60:e=>{function t(e){return e instanceof Array?"array":"object"==typeof e?"object":"simple"}function*r(e,t,r,n,l){yield s(t,e,r,n,l)}function s(e,s,n,l,o){let c,[u,i]=l;c=i?i(e,o):e,null!=c&&("simple"!=t(c)?Object.keys(c).forEach((e=>{const i=t(c[e]);if("simple"===i){if(!u)return void(s[e]=c[e]);let t=u(c[e],e,`${o}/${e}`);if(null==t)return;s[e]=t}"object"===i&&(s[e]={},n.push(r(s[e],c[e],n,l,`${o}/${e}`))),"array"===i&&(s[e]=[],n.push(r(s[e],c[e],n,l,`${o}/${e}`)))})):"array"==t(s)?s.push(c):s[c]=c)}e.exports=function(e,r){let n,l=t(e),o=[],c="root",u=function(e){let t=null,r=null;return"function"==typeof e?t=e:e instanceof Array&&(t=e[0],r=e[1]),[t,r]}(r);switch(l){case"array":n=[],s(e,n,o,u,c);break;case"object":n={},s(e,n,o,u,c);break;case"simple":return e}for(const e of o)e.next();return n}},702:e=>{e.exports=function(e,t){let r={};return Object.keys(e).forEach((s=>{t.hasOwnProperty(s)&&e[s]===t[s]||(r[s]=t[s])})),r}},86:e=>{e.exports=function(e,t){let r={};return Object.keys(t).forEach((s=>{e.hasOwnProperty(s)||(r[s]=t[s])})),r}},216:e=>{e.exports=function(e,t){let r={};return Object.keys(e).forEach((s=>{t.hasOwnProperty(s)&&e[s]===t[s]&&(r[s]=e[s])})),r}},218:(e,t,r)=>{const s=r(216),n=r(702),l=r(337),o=r(86),c=r(814);e.exports={identical:s,change:n,same:l,different:o,missing:c}},814:e=>{e.exports=function(e,t){let r={};return Object.keys(e).forEach((s=>{t.hasOwnProperty(s)||(r[s]=e[s])})),r}},337:e=>{e.exports=function(e,t){let r={};return Object.keys(e).forEach((e=>{t.hasOwnProperty(e)&&(r[e]=t[e])})),r}},270:e=>{"use strict";e.exports={toFlat:function(e,t){if(0===Object.keys(t).length)return[[["object",0]],{}];let{help:r}=e,s=[],n={},l=Object.keys(t).map((e=>e.split("/"))).sort(((e,t)=>t.length-e.length)),o={},c=[],u=[];return l.forEach((e=>{e.forEach(((t,r)=>{let s=e.slice(0,r).join("/");s&&(o[s]||(o[s]=new Set,c.push(s)),o[s].add(t))}))})),c.forEach(((e,t)=>{let n=!1;if(s[t]||(s[t]=["object",t]),u[t]&&(e=u[t]),n=Array.from(o[e]),"root"===e){const e=r.hasNumbers(n)?"array":"object";s[t][0]=e}n.forEach((n=>{let l=o[`${e}/${n}`];if(!l)return;let c=Array.from(l),i=r.hasNumbers(c)?"array":"object",a=s.length;u[a]=`${e}/${n}`,s.push([i,a]),s[t].push([a,n])}))})),l.forEach((e=>{let r=e.pop(),s=e.join("/"),l=null,o="";l=u.indexOf(s),l<0&&(l=c.indexOf(s)),o=`root/${l}/${r}`,n[o]=t[`${s}/${r}`]})),[s,n]},toType:function(e,t){let[r,s]=t,n=Object.keys(s),l={},o={};return r.forEach((e=>{let[t,s,...n]=e;n.forEach((e=>{let[t,n]=e,l=n,c=s;for(let e=s;e>=0;e--){let[t,s,...n]=r[e];n.forEach((e=>{let[t,r]=e;t===c&&(l=`${r}/${l}`,c=s)}))}o[t]=l}))})),n.forEach((e=>{let t=e.split("/"),r=t[1],n=o[r];"0"==r?t=t.filter(((e,t)=>1!=t)):t[1]=n,l[t.join("/")]=s[e]})),l}}},890:(e,t,r)=>{"use strict";const s=r(270),n=r(500),l=r(184),o=e=>(t,r)=>{let o,c,u,{help:i}=t,a=[];switch(e){case"std":case"standard":return n.toFlat(t,r);case"tuple":case"tuples":r=i.tuplesToBradcrumbs(t,r);case"breadcrumb":case"breadcrumbs":return o=Object.keys(r),a=o.map((e=>r[e])),c=i.sanitizeFlatKeys(o),u=i.zipObject(c,a),s.toFlat(t,u);case"file":case"files":return o=r.map((e=>{let t=e.split("/");return a.push(t.pop()),t.join("/")})),c=i.sanitizeFlatKeys(o),u=i.zipObject(c,a),s.toFlat(t,u);case"midFlat":return l.toFlat(t,r)}return[["object",0],{}]};e.exports={from:function(e){return{toFlat:o(e)}},to:function(e,t,r){switch(e){case"std":case"standard":return n.toType(t,r);case"midFlat":return l.toType(t,r);case"breadcrumb":case"breadcrumbs":return s.toType(t,r)}}}},184:e=>{"use strict";e.exports={toFlat:function(e,t){if(0===Object.keys(t).length)return[[["object",0]],{}];let r=[],s={},{help:n}=e,l=Object.keys(t).map((e=>e.trim().replace(/\/$/,"").split("/"))).sort(((e,t)=>t.length-e.length)),o={},c=["root"],u=[];return l.forEach((e=>{e.forEach(((t,r)=>{let s=e.slice(0,r).join("/");s&&(o[s]||(o[s]=new Set,c.push(s)),o[s].add(t))}))})),Array.from(c.reduce(((e,t)=>{let r;e.add(t);const s=o[t];return null==s||(r=Array.from(s),r.forEach((r=>e.add(`${t}/${r}`)))),e}),new Set)).sort().forEach(((e,t)=>{let s;if(r[t]||(r[t]=["object",t],u[t]=e),u[t]&&(e=u[t]),null==e)return;const l=o[e];if(!l)return;let c=Array.from(l);n.hasNumbers(c)&&(r[t][0]="array"),l.forEach((t=>{s=r.length,u[s]=`${e}/${t}`,r.push(["object",s])}))})),u.forEach(((e,l)=>{let o,c,i=Object.keys(t[e]).map((e=>e.trim().replace(/\/$/,""))),a=n.hasNumbers(i),p=e.split("/");o=p.pop(),c=p.join("/");let d=u.indexOf(c);d>=0&&r[d].push([l,o]),a&&(r[l][0]="array"),u[l]=e;for(let r in t[e]){let n=t[e][r];if("_fake$$$"===n)return;s[`root/${l}/${r}`]=n}})),[r,s]},toType:function(e,t){let r,[s,n]=t,l={root:{}},o={0:"root"};s.forEach(((e,t)=>{r=null!=o[t]?o[t]:"root",e.forEach(((e,t)=>{if(t<2)return;let[s,n]=e,c=`${r}/${n}`;l[c]={},o[s]=c}))}));let c=Object.keys(n),u=new Set;for(let e of c){let[,t,r]=e.split("/"),s=o[t];u.add(t),l[s][r]=n[e]}return s.forEach((e=>{let[t,r,...s]=e,n=o[r],c=!u.has(r.toString()),i=!(s.length>0);"array"===t&&c&&i&&(l[n][-1]="_fake$$$")})),l}}},500:e=>{"use strict";e.exports={toFlat:function(e,t){let r=e.empty(),{help:s,walk:n}=e,{findType:l}=s,o=[],c=0,u=0,i={};return n(t,[function(e,t,s){return r[`root/${u}/${t}`]=e,e},function(e,t){let r=t.split("/"),s=r.pop();if(o.push([l(e),c]),i[t]=c,u=c,r.length>0){let e=r.join("/"),t=i[e];o[t].push([c,s])}return c++,e}]),[o,r]},toType:function(e,t){let[r,s]=t,n=Object.keys(s),l=[],o={};return r.forEach((e=>{let t,[r,c,...u]=e;t="array"==r?[]:{},n.filter((e=>e.includes(`root/${c}/`))).forEach((e=>{let r=e.split("/"),n=r[r.length-1];t[n]=s[e]})),o[c]=l.length,l.push(t)})),r.forEach((e=>{let[,t,...r]=e;r.forEach((e=>{let[r,s]=e;r=Number(r)||r;let n=o[r];l[t][s]=l[n]}))})),l[0]}}},634:e=>{e.exports=function(e){return e._select.value.reduce(((t,r)=>(t[r]=e.value[r],t)),{})}},906:e=>{e.exports=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s={},n=[];return t.forEach((t=>{let l=t.split("/"),o=l[1],c=l.pop();o==e&&(s[c]=r[t],n.push(t))})),[s,n]}},35:e=>{e.exports=function(e){return!e.every((e=>{const t=Number(e);return 0!==t&&!t}))}},935:(e,t,r)=>{"use strict";const s=r(92),n=r(35),l=r(257),o=r(501),c=r(906),u=r(486),i=r(504),a=r(438),p=r(634),d=r(773),f=r(943);e.exports={findType:e=>e instanceof Array?"array":"object",hasNumbers:n,isItPrimitive:s,sanitizeFlatKeys:l,objectsByLevel:o,filterObject:c,toBreadcrumbKeys:u,updateSelection:i,zipObject:a,extractSelection:p,reduceTuples:d,tuplesToBradcrumbs:f}},92:e=>{e.exports=function(e){return"function"==typeof e||"object"!=typeof e}},501:e=>{e.exports=function(e){return e.reduce(((e,t)=>{let r=[];return t.forEach(((e,t)=>{t>1&&r.push(e[0])})),r.length>0&&e.push(r),e}),[[0]])}},773:e=>{e.exports=function(e,t){const{help:r}=e;return Object.keys(t).reduce(((e,s)=>{let n=s.substr(5).split("/"),l=n[n.length-1];return r.hasNumbers([l])&&n.pop(),e.push([n.join("/"),t[s]]),e}),[])}},257:e=>{e.exports=function(e){let t=e.map((e=>{let t=e.split("/");return"root"!=t[0]?["root",...t].join("/"):t.join("/")})),r=[],s=new Set;t.forEach((e=>{r.includes(e)?s.add(e):r.push(e)}));for(const e of s){let r=0;t=t.map((t=>t==e?`${t}/${r++}`:t))}return t}},486:e=>{e.exports=function(e,t){let r=["root"];return t.forEach((e=>{e.forEach(((t,s)=>{let n=e[1],l=r[n];s>1&&r.push(`${l}/${t[1]}`)}))})),e.map((e=>{let t=e.split("/"),s=t[1],n=t[2];return`${r[s]}/${n}`}))}},943:e=>{"use strict";e.exports=function(e,t){const{walk:r}=e;let s={};return r(t,[null,function(e,t){if("root"===t)return e;let[r,n]=e;return s[r]=n,e}]),s}},504:(e,t,r)=>{r(733),e.exports=function(e,t){let[...r]=e;return t.forEach((e=>{r.includes(e)||r.push(e)})),r}},438:e=>{e.exports=function(e,t){return e.reduce(((e,r,s)=>{let n,l=t[s];return n="string"==typeof l&&Number(l)||l,e[r]=n,e}),{})}},564:e=>{e.exports=function(e,t){const{structure:r,value:s}=t._select,n=new Set,l=new Set;let o=s.reduce(((e,t)=>{let r=parseInt(t.split("/")[1]);return n.add(r),r<e&&(e=r),e}),1e5);if(t._select.structure=r.reduce(((e,t)=>{let r=t[1];return r>=o&&n.has(r)&&(e.push([...t]),l.add(r)),e}),[["array",0]]),n.has(0)&&t._select.structure.splice(1,1),l.size>1){let e=0;l.forEach((r=>{let s=t._select.structure[0];0!=r&&s.push([r,e++])}))}else t._select.structure.splice(0,1);return t}},425:e=>{e.exports=function(e,t){const{convert:r,location:s}=e,n=r.to("midFlat",e,[t.structure,t.value]),{result:l}=t._select;if(!l)return t;for(k in l)newKey=k.replace("root",s),n[newKey]?n[newKey]={...n[newKey],...l[k]}:n[newKey]={...l[k]};return r.from("midFlat").toFlat(e,n)}},32:e=>{e.exports=function(e,t){const{type:r}=e,s=Object.keys(t.value);let n=t.structure.reduce(((e,t)=>(t[0]!=r||2==t.length&&e.push(t[1]),e)),[]);return t._select.value=s.filter((e=>{let t=parseInt(e.split("/")[1]);return n.includes(t)})),t._select.structure=[["array",0]],n.forEach(((e,r)=>{let s=t.structure[e][0];t._select.structure[0].push([e,r]),t._select.structure.push([s,e])})),t}},326:e=>{e.exports=function(e,t,r){const{convert:s,modifier:n,walk:l}=e,o=s.to("midFlat",e,[t.structure,t.value]),c=s.to("midFlat",e,[r.structure,r.value]),u=Object.keys(c);let i;t._error=t._error.concat(r._error),i=u.reduce(((e,t)=>{let r=t.split("/").pop(),s=Object.keys(e.root);if("root"!=r&&e[t]){let r={};return r[t]={...c[t]},n.combineShallow(e,r)}if("root"!=r&&s.includes(r)){let r={};return r[t]={...c[t]},n.combineShallow(e,r)}return n.combineShallow(e,{root:{...c[t]}})}),o);let[a,p]=s.from("midFlat").toFlat(e,i);return t.structure=l(a),t.value=p,t}},911:e=>{e.exports=function(e,t){const{help:r,num:s,direction:n}=e;let l=[],o=[...t._select.value];return r.objectsByLevel(t.structure).forEach(((e,t)=>{("more"==n?t>=s:t<=s)&&(l=l.concat(e))})),t._select.value=o.filter((e=>{let t=parseInt(e.split("/")[1]);return l.includes(t)})),t}},699:e=>{e.exports=function(e,t){let r,s=Object.keys(t.value),{help:n,deep:l,search:o,walk:c}=e,u=n.toBreadcrumbKeys(s,t.structure);o=o||"root",l=null==l?9999:l,l+=1,r=o.split("/").length+l;let i=u.filter((e=>e.match(o))).reduce(((e,t)=>{let n=u.indexOf(t);return t.split("/").length<=r&&e.push(s[n]),e}),[]);return t._select.value=n.updateSelection(t._select.value,i),t._select.structure=c(t.structure),t}},641:e=>{e.exports=function(e,t){const{help:r,prop:s,walk:n,where:l}=e;let o=[],c=[],u=[];return"root"==s&&o.push(0),t.structure.forEach((e=>{e.forEach(((e,t)=>{if(t>1){let[t,r]=e;r==s&&o.push(t)}}))})),c=o.reduce(((e,r)=>{for(let s in t.value)s.split("/")[1]==r&&e.push(s);return e}),[]),u=l?o.reduce(((e,s)=>{let[n,o]=r.filterObject(s,c,t.value);return l(n)&&e.push(...o),e}),[]):c,t._select.value=r.updateSelection(t._select.value,u),t._select.structure=n(t.structure),t}},635:(e,t,r)=>{"use strict";const s=r(699),n=r(261),l=r(32),o=r(911),c=r(641),u={loadLong(e,t){let{structure:r,value:s}=t;return u._loadData(e,r,s)},loadShort(e,t){let[r,s]=t;return u._loadData(e,r,s)},_loadData(e,t,r){const{simpleDT:s,walk:n}=e;let l=s();l.structure=n(t);for(const e in r)l.value[e]=r[e];return l},modify:r(483),find:s,parent:n,folder:c,deep:o,block:l,transform:r(348),attach:r(425),combine:r(326),assemble:r(564),purify:r(341)};e.exports=u},483:e=>{e.exports=function(e,t,r){const{action:s,convert:n,modifier:l,walk:o}=e,c=n.to("midFlat",e,[t.structure,t.value]),u=n.to("midFlat",e,[r.structure,r.value]);let i;t._error=t._error.concat(r._error),i=l[s](c,u);let[a,p]=n.from("midFlat").toFlat(e,i);return t.structure=o(a),t.value=p,t}},261:e=>{e.exports=function(e,t){const{help:r,prop:s,walk:n,where:l}=e;let o,c=[],u=[];for(let e in t.value){let t=e.split("/");t[2]==s&&c.push(t[1])}return n(t.structure,[null,function(e,t){if("root"===t)return e;if("string"==typeof e[0])return e;let[r,n]=e;return n===s&&c.push(r),null}]),u=c.reduce(((e,r)=>{for(let s in t.value)s.split("/")[1]==r&&e.push(s);return e}),[]),o=l?c.reduce(((e,s)=>{let[n,o]=r.filterObject(s,u,t.value);return l(n)&&e.push(...o),e}),[]):u,t._select.value=r.updateSelection(t._select.value,o),t._select.structure=n(t.structure),t}},341:(e,t,r)=>{r(733),e.exports=function(e,t){const{structure:r,value:s}=t._select,n=r.reverse();let l=s.reduce(((e,t)=>{let r=parseInt(t.split("/")[1]);return e.includes(r)||e.push(r),e}),[]);return t._select.structure=n.reduce(((e,t)=>{let[r,s,...n]=t,o=t.length,c=[r,s];return 2!=o||l.includes(s)?(n.forEach((e=>{let t=e[0];l.includes(t)&&(c.push([...e]),l.includes(s)||l.push(s))})),l.includes(s)?(e.push([...c]),e):e):e}),[]).reverse(),t}},348:e=>{e.exports=function(e,t){let r,[s,n]=t,{modify:l,empty:o}=e,c=Object.keys(n);switch(l){case"reverse":r=c.reduce(((e,t)=>{let r=t.split("/"),s=r[2].match(/^[0-9]+$/)?parseInt(r[2]):r[2],l=n[t];return e[`root/${r[1]}/${l}`]=s,e}),{});break;case"key":case"keys":r=c.reduce(((e,t,r)=>{let s=t.split("/");return e[`root/0/${r}`]=s[2],e}),{}),s=[["array",0]];break;case"value":case"values":r=c.reduce(((e,t,r)=>{let s=n[t];return e[`root/0/${r}`]=s,e}),o()),s=[["array",0]];break;default:r=o()}return[s,r]}},880:(e,t,r)=>{"use strict";const s=r(635),n=r(935),l=r(631),o=r(890),c=r(218),u=r(60),i=["std","standard","tuple","tuples","breadcrumb","breadcrumbs","file","files","midFlat","shortFlat"],a={dependencies:()=>({simpleDT:function(){const e=Object.create(d);return e.value=e.empty(),e.structure=[],e._select={structure:[],value:[],result:null},e._error=[],e},empty:Object.create(d).empty,convert:o,help:n,modifier:l,walk:u}),init(e,t){let r=a.dependencies(),n=r.simpleDT(),{type:l,modify:c}=(r.help,{type:"std",modify:!1,...t});if(i.includes(l)){if(null!=e){const[t,s]="flat"==l||"shortFlat"==l?e:o.from(l).toFlat(r,e);n.structure=u(t),n.value=s}if(c){let[t,l]=s.transform({...r,modify:c},[n.structure,n.value]);return Object.keys(l).length<=0&&n._error.push(`Modifier "${c}" is not a valid modifier and was ignored. Data: ${JSON.stringify(e)}`),n.structure=t,n.value=l,n}return n}this._error.push(`Can't understand your data-type: ${l}. Please, find what is possible on https://github.com/PeterNaydenov/dt-toolbox`)},load:e=>e._select?s.loadLong(a.dependencies(),e):s.loadShort(a.dependencies(),e),preprocess(e,t,r){let{type:n="std"}={type:"std",modify:!1,...r},l=t(o.from(n).toFlat(a.dependencies(),e));return l?s.loadShort(a.dependencies(),l):(this._error.push('Method "preprocess" should always return a shortFlat data-type: [structure, value]'),a.init())},combine(e,t){const r=a.init(e,t);return s.combine({...a.dependencies()},this,r)},modify:e=>function(t,r){let n;return n=r?a.init(t,r):{structure:u(t.structure),value:{...t.value}},s.modify({...a.dependencies(),action:e},this,n)},errorLog(e){return e(this._error),this},replace(){const e=this,{result:t}=e._select;if(!t)return e;let[r,s]=o.from("midFlat").toFlat(a.dependencies(),t);return e.structure=u(r),e.value={...s},e._select.result=null,e},attach(e){const t=this,r={...a.dependencies(),location:e};let[n,l]=s.attach(r,t);return t.structure=u(n),t.value={...l},t._select.result=null,t},select(){return this._select={structure:[],value:[],result:null},this},find(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root",t=arguments.length>1?arguments[1]:void 0;const r={...a.dependencies(),search:e,deep:t};return this._select.result=null,s.find(r,this)},parent(e,t){const r={...a.dependencies(),prop:e,where:t};return this._select.result=null,s.parent(r,this)},folder(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root",t=arguments.length>1?arguments[1]:void 0;const r={...a.dependencies(),prop:e,where:t};return this._select.result=null,s.folder(r,this)},limit(e){return this._select.value=this._select.value.slice(0,e),this._select.result=null,this},keep(e){const t=this,r=n.toBreadcrumbKeys(t._select.value,t.structure);return void 0===e||(t._select.result=null,t._select.value=t._select.value.reduce(((s,n,l)=>{let o=r[l];return e(t.value[n],o,n)&&s.push(n),s}),[])),t},remove(e){const t=this,r=n.toBreadcrumbKeys(t._select.value,t.structure);return void 0===e||(t._select.result=null,t._select.value=t._select.value.reduce(((s,n,l)=>{let o=r[l];return e(t.value[n],o,n)||s.push(n),s}),[])),t},deep(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"less",r={...a.dependencies(),num:e,direction:t};return this._select.result=null,s.deep(r,this)},withData(){let e=this;return e._select.result=o.to("midFlat",a.dependencies(),[e.structure,e.value]),e},withSelection(){let e=this,{structure:t}=e._select;return e._select.result=o.to("midFlat",a.dependencies(),[t,n.extractSelection(e)]),e},flatten(){const e=this,{result:t}=e._select;return t?(e._select.result=l.flatten(t,{}),e):e},mix(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=this,{result:s}=r._select;return s?(r._select.result=l.mix(s,[...t,e]),r):r},reverse(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["root"];const t=this,{result:r}=t._select;return r?(t._select.result=l.reverse(r,e),t):t},keyPrefix(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=this,{result:r}=t._select;return r?(t._select.result=l.keyPrefix(r,{separationSymbol:e}),t):t},block:e=>function(){const t={...a.dependencies(),type:e};return this._select.result=null,s.block(t,this)},invert(){const e=this,t=e._select.value,r=Object.keys(e.value);return e._select.result=null,e._select.value=r.reduce(((e,r)=>(t.includes(r)||e.push(r),e)),[]),e},assemble(){const e={...a.dependencies()};return s.assemble(e,this)},purify(){const e={...a.dependencies()};return s.purify(e,this)},compare:e=>function(t,r){if(!t.hasOwnProperty("value")||!t.hasOwnProperty("structure"))return r(null),this;let s=this,n=o.to("breadcrumb",a.dependencies(),[s.structure,s.value]),l=o.to("breadcrumb",a.dependencies(),[t.structure,t.value]),u=c[e](n,l),[i,p]=o.from("breadcrumb").toFlat(a.dependencies(),u),d=a.dependencies().simpleDT();return d.structure=i,d.value=p,r(d),s},spread(e,t){const r=this,n=!!r._select.result,{help:l}=a.dependencies();let c,i,p;switch(e){case"value":case"values":if(i="values",n){let e=o.from("midFlat").toFlat(a.dependencies(),r._select.result);p=s.transform({...a.dependencies(),modify:i},e)}else p=s.transform({...a.dependencies(),modify:i},[r.structure,r.value]);c=o.to("std",a.dependencies(),p).map((e=>"string"==typeof e&&Number(e)||e));break;case"key":case"keys":if(i="keys",n){let e=o.from("midFlat").toFlat(a.dependencies(),r._select.result);p=s.transform({...a.dependencies(),modify:i},e),i="values",p=s.transform({...a.dependencies(),modify:i},p)}else p=s.transform({...a.dependencies(),modify:i},[r.structure,r.value]);c=o.to("std",a.dependencies(),p);break;case"standard":case"std":if(n){let e=o.from("midFlat").toFlat(a.dependencies(),r._select.result);c=o.to("std",a.dependencies(),e)}else c=o.to("std",a.dependencies(),[r._select.structure,l.extractSelection(r)]);break;case"breadcrumb":case"breadcrumbs":if(n){let e=o.from("midFlat").toFlat(a.dependencies(),r._select.result);c=o.to("breadcrumbs",a.dependencies(),e)}else c=o.to("breadcrumbs",a.dependencies(),[r._select.structure,l.extractSelection(r)]);break;case"tuples":let e;if(n){let t=o.from("midFlat").toFlat(a.dependencies(),r._select.result);e=o.to("breadcrumbs",a.dependencies(),t)}else e=o.to("breadcrumbs",a.dependencies(),[r._select.structure,l.extractSelection(r)]);c=l.reduceTuples(a.dependencies(),e);break;case"file":case"files":let t,d;if(n){let e=o.from("midFlat").toFlat(a.dependencies(),r._select.result);t=o.to("breadcrumbs",a.dependencies(),e)}else t=o.to("breadcrumbs",a.dependencies,[r._select.structure,l.extractSelection(r)]);d=l.reduceTuples(a.dependencies(),t),c=d.map((e=>{let[t,r]=e;return t?`${t}/${r}`:r}));break;case"midFlat":c=n?{...r._select.result}:o.to("midFlat",a.dependencies(),[r._select.structure,l.extractSelection(r)]);break;default:if(n)c=o.from("midFlat").toFlat(a.dependencies(),r._select.result);else{let e=l.extractSelection(r);c=[u(r._select.structure),e]}}return t?(t(c),r):c},spreadAll(e,t){return this.all(),this.spread(e,t)}},p={hi:()=>"hi"},d={init:a.init,load:a.load,loadFast:a.load,preprocess:a.preprocess,add:a.modify("add"),update:a.modify("update"),overwrite:a.modify("overwrite"),insert:a.modify("insert"),combine:a.combine,append:a.modify("append"),prepend:a.modify("prepend"),log:a.errorLog,empty:()=>Object.create(p),replace:a.replace,attach:a.attach,spread:a.spread,spreadAll:a.spreadAll,export:a.spread,exportAll:a.spreadAll,identical:a.compare("identical"),change:a.compare("change"),same:a.compare("same"),different:a.compare("different"),missing:a.compare("missing"),select:a.select,parent:a.parent,find:a.find,all:a.find,folder:a.folder,space:a.folder,deepObject:a.block("object"),deepArray:a.block("array"),invert:a.invert,assemble:a.assemble,purify:a.purify,limit:a.limit,keep:a.keep,remove:a.remove,deep:a.deep,withData:a.withData,withSelection:a.withSelection,flatten:a.flatten,mix:a.mix,keyPrefix:a.keyPrefix,reverse:a.reverse};e.exports=d},429:e=>{e.exports=function(e,t){for(const r in t)if(e[r])for(let s in t[r])e[r][s]||(e[r][s]=t[r][s]);else e[r]={...t[r]};return e}},57:e=>{e.exports=function(e,t){for(const r in t)if(e[r])for(let s in t[r])e[r][s]?e[r][s]+=t[r][s]:e[r][s]=t[r][s];return e}},785:e=>{function t(e){let t=0;for(k in e)!isNaN(parseInt(k))&&t++;return t}e.exports=function(e,r){let s=Object.keys(e),n=Object.keys(r),l=[...s],o={root:{}},c={};for(key of n)l.includes(key)||l.push(key);let u=l.sort(((e,t)=>t.split("/").length-e.split("/").length)).reduce(((t,s)=>{let n=e.root,l=r[s],o=s.split("/").pop();for(k in Object.keys(n),"root"!=s&&e[s]&&(t.add(o),c[o]||(c[o]=[]),c[o]=Object.keys(e[s]).reduce(((t,r)=>(t.push(e[s][r]),t)),c[o])),"root"!=o&&l&&(t.add(o),c[o]||(c[o]=[]),c[o]=Object.keys(l).reduce(((e,t)=>(e.push(l[t]),e)),c[o])),l)e[`root/${k}`]&&l[k]&&(t.add(k),c[k]||(c[k]=[]),c[k].push(l[k])),n[k]&&l[k]&&(t.add(k),c[k]?c[k].push(l[k]):c[k]=[n[k],l[k]]);return t}),new Set);for(k in s.forEach((t=>{let r=e[t];for(k in o[t]={},r)u.has(k)||(o[t][k]=r[k])})),n.forEach((e=>{let s=r[e],n=Object.keys(s),l=e.split("/").pop();u.has(l)||n.forEach((r=>{let n=`root/${r}`;if(o[n]){let e=t(o[n]);if("_fake$$$"===s[r])return;o[n][e]=s[r]}else if(!u.has(r)){if("_fake$$$"===s[r])return;o[e][r]=s[r]}}))})),c){const e=`root/${k}`;o[e]=c[k].reduce(((e,t,r)=>(e[r]=t,e)),{})}return o}},875:(e,t,r)=>{const s=r(785);e.exports=function(e){let t=Object.keys(e).filter((e=>"root"!=e)).reduce(((t,r)=>{let n={root:{...e[r]}};return s(t,n)}),{root:{...e.root}});return Object.keys(t).filter((e=>"root"!=e)).reduce(((e,r)=>{let s=r.split("/")[1],n="";for(prop in t[r])n&&(n+=";"),n+=t[r][prop];return e.root[s]=n,e}),{root:{...t.root}})}},631:(e,t,r)=>{const s=r(366),n=r(733),l={add:r(429),update:n,overwrite:s,insert:r(655),append:r(57),prepend:r(869),keyPrefix:r(432),flatten:r(875),combineShallow:r(785),mix:r(558),reverse:r(248)};e.exports=l},655:e=>{e.exports=function(e,t){for(const r in t){let s=Object.values(e[r]),n=Object.values(t[r]),l=s.concat(n);e[r]=l.reduce(((e,t,r)=>(e[r]=t,e)),{})}return e}},432:e=>{e.exports=function(e,t){let r=Object.keys(e),{separationSymbol:s}=t;return r.reduce(((t,r)=>{let n=r.substr(5).split("/").join(s);return t[r]={},Object.keys(e[r]).forEach((l=>{"root"==r?t[r][l]=e.root[l]:t[r][`${n}${s}${l}`]=e[r][l]})),t}),{})}},558:(e,t,r)=>{r(326);const s=r(785);e.exports=function(e,t){const r=t.pop();let n={};return n[r]={...e[r]},n.root||(n.root={...e.root}),t.reduce(((t,n)=>{let l={root:{...t[r]}},o={root:{...e[n]}};return t[r]=s(l,o).root,t}),n)}},366:e=>{e.exports=function(e,t){for(const r in t)if(e[r])for(let s in t[r])e[r][s]=t[r][s];else e[r]={...t[r]};return e}},869:e=>{e.exports=function(e,t){for(const r in t)if(e[r])for(let s in t[r]){const n=e[r][s];e[r][s]=n?t[r][s]+n:t[r][s]}return e}},248:e=>{e.exports=function(e,t){let r={...e};for(const e of t)if(r[e]){let t={...r[e]},s=Object.keys(t);r[e]={},s.forEach((s=>{let n=t[s];r[e][n]=s}))}return r}},733:e=>{e.exports=function(e,t){for(const r in t)if(e.hasOwnProperty(r))for(let s in t[r])e[r].hasOwnProperty(s)&&(e[r][s]=t[r][s]);return e}}},t={},r=function r(s){var n=t[s];if(void 0!==n)return n.exports;var l=t[s]={exports:{}};return e[s](l,l.exports,r),l.exports}(880);dtbox=r})();