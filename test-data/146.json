{
    "id": "146",
    "settings": {
        "inputs": [
            {
                "createInput": {
                    "type": "VIRTUAL_INPUT",
                    "protocol": "RTMP_PUSH"
                }
            }
        ],
        "channel": {
            "channelClass": "SINGLE_PIPELINE",
            "destinations": [
                {
                    "id": "Cloudfront"
                }
            ],
            "encoderSettings": {
                "audioDescriptions": [
                  {
                    "codecSettings": {
                      "aacSettings": {
                        "inputType": "NORMAL",
                        "bitrate": 96000,
                        "codingMode": "CODING_MODE_2_0",
                        "rawFormat": "NONE",
                        "spec": "MPEG4",
                        "profile": "LC",
                        "rateControlMode": "CBR",
                        "sampleRate": 48000
                      }
                    },
                    "audioTypeControl": "FOLLOW_INPUT",
                    "languageCodeControl": "FOLLOW_INPUT",
                    "name": "1080p_audio_settings"
                  },
                  {
                    "codecSettings": {
                      "aacSettings": {
                        "inputType": "NORMAL",
                        "bitrate": 96000,
                        "codingMode": "CODING_MODE_2_0",
                        "rawFormat": "NONE",
                        "spec": "MPEG4",
                        "profile": "LC",
                        "rateControlMode": "CBR",
                        "sampleRate": 48000
                      }
                    },
                    "audioTypeControl": "FOLLOW_INPUT",
                    "languageCodeControl": "FOLLOW_INPUT",
                    "name": "720p_audio_settings"
                  },
                  {
                    "codecSettings": {
                      "aacSettings": {
                        "inputType": "NORMAL",
                        "bitrate": 96000,
                        "codingMode": "CODING_MODE_2_0",
                        "rawFormat": "NONE",
                        "spec": "MPEG4",
                        "profile": "LC",
                        "rateControlMode": "CBR",
                        "sampleRate": 48000
                      }
                    },
                    "audioTypeControl": "FOLLOW_INPUT",
                    "languageCodeControl": "FOLLOW_INPUT",
                    "name": "540p_audio_settings"
                  },
                  {
                    "codecSettings": {
                      "aacSettings": {
                        "inputType": "NORMAL",
                        "bitrate": 96000,
                        "codingMode": "CODING_MODE_2_0",
                        "rawFormat": "NONE",
                        "spec": "MPEG4",
                        "profile": "LC",
                        "rateControlMode": "CBR",
                        "sampleRate": 48000
                      }
                    },
                    "audioTypeControl": "FOLLOW_INPUT",
                    "languageCodeControl": "FOLLOW_INPUT",
                    "name": "360p_audio_settings"
                  },
                  {
                    "codecSettings": {
                      "aacSettings": {
                        "inputType": "NORMAL",
                        "bitrate": 96000,
                        "codingMode": "CODING_MODE_2_0",
                        "rawFormat": "NONE",
                        "spec": "MPEG4",
                        "profile": "LC",
                        "rateControlMode": "CBR",
                        "sampleRate": 48000
                      }
                    },
                    "audioTypeControl": "FOLLOW_INPUT",
                    "languageCodeControl": "FOLLOW_INPUT",
                    "name": "270p_audio_settings"
                  }
                ],
                "captionDescriptions": [
                  {
                    "name": "caption_1080p",
                    "captionSelectorName": "captions",
                    "destinationSettings": {
                      "embeddedDestinationSettings": {}
                    }
                  },
                  {
                    "name": "caption_720p",
                    "captionSelectorName": "captions",
                    "destinationSettings": {
                      "embeddedDestinationSettings": {}
                    }
                  },
                  {
                    "name": "caption_540p",
                    "captionSelectorName": "captions",
                    "destinationSettings": {
                      "embeddedDestinationSettings": {}
                    }
                  },
                  {
                    "name": "caption_360p",
                    "captionSelectorName": "captions",
                    "destinationSettings": {
                      "embeddedDestinationSettings": {}
                    }
                  },
                  {
                    "name": "caption_270p",
                    "captionSelectorName": "captions",
                    "destinationSettings": {
                      "embeddedDestinationSettings": {}
                    }
                  }
                ],
                "globalConfiguration": {
                  "supportLowFramerateInputs": "DISABLED",
                  "inputEndAction": "NONE",
                  "outputTimingSource": "INPUT_CLOCK",
                  "inputLossBehavior": {
                    "repeatFrameMsec": 1000,
                    "blackFrameMsec": 10000,
                    "inputLossImageType": "SLATE",
                    "inputLossImageColor": "000000",
                    "inputLossImageSlate": {
                      "uri": "https://live-test-bucket-tokyo.s3-ap-northeast-1.amazonaws.com/smpte-color-bars-1080p.png"
                    }
                  },
                  "outputLockingMode": "PIPELINE_LOCKING"
                },
                "motionGraphicsConfiguration": {
                  "motionGraphicsInsertion": "ENABLED",
                  "motionGraphicsSettings": {
                    "htmlMotionGraphicsSettings": {}
                  }
                },
                "outputGroups": [
                  {
                    "outputGroupSettings": {
                      "hlsGroupSettings": {
                        "adMarkers": [],
                        "captionLanguageSetting": "INSERT",
                        "captionLanguageMappings": [
                          {
                            "captionChannel": 1,
                            "languageCode": "eng",
                            "languageDescription": "English"
                          }
                        ],
                        "hlsCdnSettings": {
                          "hlsMediaStoreSettings": {
                            "numRetries": 10,
                            "connectionRetryInterval": 1,
                            "restartDelay": 15,
                            "filecacheDuration": 300,
                            "mediaStoreStorageClass": "TEMPORAL"
                          }
                        },
                        "inputLossAction": "EMIT_OUTPUT",
                        "manifestCompression": "NONE",
                        "destination": {
                          "destinationRefId": "Cloudfront"
                        },
                        "ivInManifest": "INCLUDE",
                        "ivSource": "FOLLOWS_SEGMENT_NUMBER",
                        "clientCache": "ENABLED",
                        "tsFileMode": "SEGMENTED_FILES",
                        "manifestDurationFormat": "FLOATING_POINT",
                        "segmentationMode": "USE_SEGMENT_DURATION",
                        "redundantManifest": "DISABLED",
                        "outputSelection": "MANIFESTS_AND_SEGMENTS",
                        "streamInfResolution": "INCLUDE",
                        "indexNSegments": 10,
                        "programDateTime": "EXCLUDE",
                        "programDateTimePeriod": 600,
                        "keepSegments": 21,
                        "segmentLength": 6,
                        "timedMetadataId3Frame": "PRIV",
                        "timedMetadataId3Period": 10,
                        "codecSpecification": "RFC_4281",
                        "directoryStructure": "SINGLE_DIRECTORY",
                        "segmentsPerSubdirectory": 10000,
                        "mode": "LIVE"
                      }
                    },
                    "name": "HLS",
                    "outputs": [
                      {
                        "outputSettings": {
                          "hlsOutputSettings": {
                            "nameModifier": "_$w$x$h$_$rc$",
                            "segmentModifier": "_$dt$",
                            "hlsSettings": {
                              "standardHlsSettings": {
                                "m3u8Settings": {
                                  "audioFramesPerPes": 4,
                                  "audioPids": "492-498",
                                  "pcrControl": "PCR_EVERY_PES_PACKET",
                                  "pmtPid": "480",
                                  "programNum": 1,
                                  "scte35Pid": "500",
                                  "scte35Behavior": "NO_PASSTHROUGH",
                                  "timedMetadataPid": "502",
                                  "timedMetadataBehavior": "NO_PASSTHROUGH",
                                  "videoPid": "481"
                                },
                                "audioRenditionSets": "program_audio"
                              }
                            }
                          }
                        },
                        "outputName": "1080p",
                        "videoDescriptionName": "1080p_video_settings",
                        "audioDescriptionNames": [
                          "1080p_audio_settings"
                        ],
                        "captionDescriptionNames": [
                          "caption_1080p"
                        ]
                      },
                      {
                        "outputSettings": {
                          "hlsOutputSettings": {
                            "nameModifier": "_$w$x$h$_$rc$",
                            "segmentModifier": "_$dt$",
                            "hlsSettings": {
                              "standardHlsSettings": {
                                "m3u8Settings": {
                                  "audioFramesPerPes": 4,
                                  "audioPids": "492-498",
                                  "pcrControl": "PCR_EVERY_PES_PACKET",
                                  "pmtPid": "480",
                                  "programNum": 1,
                                  "scte35Pid": "500",
                                  "scte35Behavior": "NO_PASSTHROUGH",
                                  "timedMetadataPid": "502",
                                  "timedMetadataBehavior": "NO_PASSTHROUGH",
                                  "videoPid": "481"
                                },
                                "audioRenditionSets": "program_audio"
                              }
                            }
                          }
                        },
                        "outputName": "720p",
                        "videoDescriptionName": "720p_video_settings",
                        "audioDescriptionNames": [
                          "720p_audio_settings"
                        ],
                        "captionDescriptionNames": [
                          "caption_720p"
                        ]
                      },
                      {
                        "outputSettings": {
                          "hlsOutputSettings": {
                            "nameModifier": "_$w$x$h$_$rc$",
                            "segmentModifier": "_$dt$",
                            "hlsSettings": {
                              "standardHlsSettings": {
                                "m3u8Settings": {
                                  "audioFramesPerPes": 4,
                                  "audioPids": "492-498",
                                  "pcrControl": "PCR_EVERY_PES_PACKET",
                                  "pmtPid": "480",
                                  "programNum": 1,
                                  "scte35Pid": "500",
                                  "scte35Behavior": "NO_PASSTHROUGH",
                                  "timedMetadataPid": "502",
                                  "timedMetadataBehavior": "NO_PASSTHROUGH",
                                  "videoPid": "481"
                                },
                                "audioRenditionSets": "program_audio"
                              }
                            }
                          }
                        },
                        "outputName": "540p",
                        "videoDescriptionName": "540p_video_settings",
                        "audioDescriptionNames": [
                          "540p_audio_settings"
                        ],
                        "captionDescriptionNames": [
                          "caption_540p"
                        ]
                      },
                      {
                        "outputSettings": {
                          "hlsOutputSettings": {
                            "nameModifier": "_$w$x$h$_$rc$",
                            "segmentModifier": "_$dt$",
                            "hlsSettings": {
                              "standardHlsSettings": {
                                "m3u8Settings": {
                                  "audioFramesPerPes": 4,
                                  "audioPids": "492-498",
                                  "pcrControl": "PCR_EVERY_PES_PACKET",
                                  "pmtPid": "480",
                                  "programNum": 1,
                                  "scte35Pid": "500",
                                  "scte35Behavior": "NO_PASSTHROUGH",
                                  "timedMetadataPid": "502",
                                  "timedMetadataBehavior": "NO_PASSTHROUGH",
                                  "videoPid": "481"
                                },
                                "audioRenditionSets": "program_audio"
                              }
                            }
                          }
                        },
                        "outputName": "360p",
                        "videoDescriptionName": "360p_video_settings",
                        "audioDescriptionNames": [
                          "360p_audio_settings"
                        ],
                        "captionDescriptionNames": [
                          "caption_360p"
                        ]
                      },
                      {
                        "outputSettings": {
                          "hlsOutputSettings": {
                            "nameModifier": "_$w$x$h$_$rc$",
                            "segmentModifier": "_$dt$",
                            "hlsSettings": {
                              "standardHlsSettings": {
                                "m3u8Settings": {
                                  "audioFramesPerPes": 4,
                                  "audioPids": "492-498",
                                  "pcrControl": "PCR_EVERY_PES_PACKET",
                                  "pmtPid": "480",
                                  "programNum": 1,
                                  "scte35Pid": "500",
                                  "scte35Behavior": "NO_PASSTHROUGH",
                                  "timedMetadataPid": "502",
                                  "timedMetadataBehavior": "NO_PASSTHROUGH",
                                  "videoPid": "481"
                                },
                                "audioRenditionSets": "program_audio"
                              }
                            }
                          }
                        },
                        "outputName": "270p",
                        "videoDescriptionName": "270p_video_settings",
                        "audioDescriptionNames": [
                          "270p_audio_settings"
                        ],
                        "captionDescriptionNames": [
                          "caption_270p"
                        ]
                      }
                    ]
                  }
                ],
                "timecodeConfig": {
                  "source": "EMBEDDED"
                },
                "videoDescriptions": [
                  {
                    "codecSettings": {
                      "h264Settings": {
                        "afdSignaling": "NONE",
                        "colorMetadata": "INSERT",
                        "adaptiveQuantization": "MEDIUM",
                        "bitrate": 6000000,
                        "entropyEncoding": "CABAC",
                        "flickerAq": "ENABLED",
                        "framerateControl": "SPECIFIED",
                        "framerateNumerator": 30000,
                        "framerateDenominator": 1001,
                        "gopBReference": "DISABLED",
                        "gopClosedCadence": 1,
                        "gopNumBFrames": 2,
                        "gopSize": 3,
                        "gopSizeUnits": "SECONDS",
                        "subgopLength": "FIXED",
                        "scanType": "PROGRESSIVE",
                        "level": "H264_LEVEL_AUTO",
                        "lookAheadRateControl": "MEDIUM",
                        "numRefFrames": 1,
                        "parControl": "SPECIFIED",
                        "profile": "MAIN",
                        "rateControlMode": "CBR",
                        "syntax": "DEFAULT",
                        "sceneChangeDetect": "ENABLED",
                        "spatialAq": "ENABLED",
                        "temporalAq": "ENABLED",
                        "timecodeInsertion": "DISABLED"
                      }
                    },
                    "height": 1080,
                    "name": "1080p_video_settings",
                    "respondToAfd": "NONE",
                    "sharpness": 50,
                    "scalingBehavior": "DEFAULT",
                    "width": 1920
                  },
                  {
                    "codecSettings": {
                      "h264Settings": {
                        "afdSignaling": "NONE",
                        "colorMetadata": "INSERT",
                        "adaptiveQuantization": "MEDIUM",
                        "bitrate": 2200000,
                        "entropyEncoding": "CABAC",
                        "flickerAq": "ENABLED",
                        "framerateControl": "SPECIFIED",
                        "framerateNumerator": 30000,
                        "framerateDenominator": 1001,
                        "gopBReference": "DISABLED",
                        "gopClosedCadence": 1,
                        "gopNumBFrames": 2,
                        "gopSize": 3,
                        "gopSizeUnits": "SECONDS",
                        "subgopLength": "FIXED",
                        "scanType": "PROGRESSIVE",
                        "level": "H264_LEVEL_AUTO",
                        "lookAheadRateControl": "MEDIUM",
                        "numRefFrames": 1,
                        "parControl": "SPECIFIED",
                        "profile": "MAIN",
                        "rateControlMode": "CBR",
                        "syntax": "DEFAULT",
                        "sceneChangeDetect": "ENABLED",
                        "spatialAq": "ENABLED",
                        "temporalAq": "ENABLED",
                        "timecodeInsertion": "DISABLED"
                      }
                    },
                    "height": 720,
                    "name": "720p_video_settings",
                    "respondToAfd": "NONE",
                    "sharpness": 50,
                    "scalingBehavior": "DEFAULT",
                    "width": 1280
                  },
                  {
                    "codecSettings": {
                      "h264Settings": {
                        "afdSignaling": "NONE",
                        "colorMetadata": "INSERT",
                        "adaptiveQuantization": "MEDIUM",
                        "bitrate": 1400000,
                        "entropyEncoding": "CABAC",
                        "flickerAq": "ENABLED",
                        "framerateControl": "SPECIFIED",
                        "framerateNumerator": 30000,
                        "framerateDenominator": 1001,
                        "gopBReference": "DISABLED",
                        "gopClosedCadence": 1,
                        "gopNumBFrames": 2,
                        "gopSize": 3,
                        "gopSizeUnits": "SECONDS",
                        "subgopLength": "FIXED",
                        "scanType": "PROGRESSIVE",
                        "level": "H264_LEVEL_AUTO",
                        "lookAheadRateControl": "MEDIUM",
                        "numRefFrames": 1,
                        "parControl": "SPECIFIED",
                        "profile": "MAIN",
                        "rateControlMode": "CBR",
                        "syntax": "DEFAULT",
                        "sceneChangeDetect": "ENABLED",
                        "spatialAq": "ENABLED",
                        "temporalAq": "ENABLED",
                        "timecodeInsertion": "DISABLED"
                      }
                    },
                    "height": 540,
                    "name": "540p_video_settings",
                    "respondToAfd": "NONE",
                    "sharpness": 50,
                    "scalingBehavior": "DEFAULT",
                    "width": 960
                  },
                  {
                    "codecSettings": {
                      "h264Settings": {
                        "afdSignaling": "NONE",
                        "colorMetadata": "INSERT",
                        "adaptiveQuantization": "MEDIUM",
                        "bitrate": 800000,
                        "entropyEncoding": "CABAC",
                        "flickerAq": "ENABLED",
                        "framerateControl": "SPECIFIED",
                        "framerateNumerator": 30000,
                        "framerateDenominator": 1001,
                        "gopBReference": "DISABLED",
                        "gopClosedCadence": 1,
                        "gopNumBFrames": 2,
                        "gopSize": 3,
                        "gopSizeUnits": "SECONDS",
                        "subgopLength": "FIXED",
                        "scanType": "PROGRESSIVE",
                        "level": "H264_LEVEL_AUTO",
                        "lookAheadRateControl": "MEDIUM",
                        "numRefFrames": 1,
                        "parControl": "SPECIFIED",
                        "profile": "MAIN",
                        "rateControlMode": "CBR",
                        "syntax": "DEFAULT",
                        "sceneChangeDetect": "ENABLED",
                        "spatialAq": "ENABLED",
                        "temporalAq": "ENABLED",
                        "timecodeInsertion": "DISABLED"
                      }
                    },
                    "height": 360,
                    "name": "360p_video_settings",
                    "respondToAfd": "NONE",
                    "sharpness": 50,
                    "scalingBehavior": "DEFAULT",
                    "width": 640
                  },
                  {
                    "codecSettings": {
                      "h264Settings": {
                        "afdSignaling": "NONE",
                        "colorMetadata": "INSERT",
                        "adaptiveQuantization": "MEDIUM",
                        "bitrate": 450000,
                        "entropyEncoding": "CABAC",
                        "flickerAq": "ENABLED",
                        "framerateControl": "SPECIFIED",
                        "framerateNumerator": 30000,
                        "framerateDenominator": 1001,
                        "gopBReference": "DISABLED",
                        "gopClosedCadence": 1,
                        "gopNumBFrames": 2,
                        "gopSize": 3,
                        "gopSizeUnits": "SECONDS",
                        "subgopLength": "FIXED",
                        "scanType": "PROGRESSIVE",
                        "level": "H264_LEVEL_AUTO",
                        "lookAheadRateControl": "MEDIUM",
                        "numRefFrames": 1,
                        "parControl": "SPECIFIED",
                        "profile": "MAIN",
                        "rateControlMode": "CBR",
                        "syntax": "DEFAULT",
                        "sceneChangeDetect": "ENABLED",
                        "spatialAq": "ENABLED",
                        "temporalAq": "ENABLED",
                        "timecodeInsertion": "DISABLED"
                      }
                    },
                    "height": 270,
                    "name": "270p_video_settings",
                    "respondToAfd": "NONE",
                    "sharpness": 50,
                    "scalingBehavior": "DEFAULT",
                    "width": 480
                  }
                ]
              },
            "inputAttachments": [
                {
                    "inputAttachmentName": "input-captions",
                    "inputSettings": {
                        "captionSelectors": [
                            {
                                "selectorSettings": {
                                    "embeddedSourceSettings": {
                                        "source608ChannelNumber": 1,
                                        "source608TrackNumber": 1,
                                        "convert608To708": "DISABLED",
                                        "scte20Detection": "AUTO"
                                    }
                                },
                                "name": "captions",
                                "languageCode": "eng"
                            }
                        ]
                    }
                }
            ],
            "inputSpecification": {
                "codec": "AVC",
                "maximumBitrate": "MAX_10_MBPS",
                "resolution": "HD"
            },
            "name": "RTMP_to_HLS_on_MediaStore"
        },
        "createArchives": false
    },
    "name": "RTMP - HLS CBR ABR via Cloudfront and Archive with CC",
    "description": "Motion Graphics RTMP Input with Output HLS via Cloudfront with 1080p@7596kbps, 720p@4096kbps, 540p@3096kbps, 360p@1596kbps, 270p@496kbps, QVBR, GOPSz@3s, Audio: LC, 48kHz@96kbps",
    "featured": true,
    "meta": {}
}